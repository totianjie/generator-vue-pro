webpackJsonp([23],{"/qex":function(t,e){},Cqnl:function(t,e){},"N+CW":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("woOf"),s=a.n(r),n=a("QmSG"),i={props:{},data:function(){return{selectProps:{name:"label",value:"value"},name:"",status:"",span:8,formSize:n.a.homeFormSize,btnSize:n.a.homeBtn,date:"",options:[{value:"0",label:"禁用"},{value:"1",label:"启用"}],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}}}},computed:{beginDate:function(){return Array.isArray(this.date)?this.date[0]:""},endDate:function(){return Array.isArray(this.date)?this.date[1]:""}},watch:{name:function(t){this.changeText(t)}},methods:{searchCheck:function(t){if("string"!=typeof t)return!0;if(!t.length)return!0;return!!/^[a-zA-Z0-9\u4e00-\u9fa5]+$/.test(t)||(this.$toast("输入不正确（须中文、英文、数字输入），请重新输入"),!1)},changeText:function(t){if("string"!=typeof t)return!0;if(!t.length)return!0;for(var e=t.split("'"),a=!0,r=0;r<e.length;r++)a=!!e[r].length;return!(!/^[a-zA-Z0-9\u4e00-\u9fa5]+$/.test(t)&&!a)||(this.$toast("输入不正确（须中文、英文、数字输入），请重新输入"),!1)},handlerSearch:function(){if(this.searchCheck(this.name)){var t=this.name.replace(/%/,""),e={keyword:t,name:t,status:this.status,beginDate:this.beginDate,endDate:this.endDate};this.$emit("search",e)}}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"over-hidden"},[a("v-search-box",[a("div",[a("el-col",{attrs:{span:t.span}},[a("v-input",{attrs:{label:"关键词：",labelWidth:75,pxUnit:!0}},[a("el-input",{attrs:{placeholder:"请输入关键词",size:t.formSize},on:{blur:t.searchCheck},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:t.span}},[a("v-input",{attrs:{label:"日期：",labelWidth:70,pxUnit:!0}},[a("el-date-picker",{staticClass:"w-fill",attrs:{size:t.formSize,"value-format":"yyyy-MM-dd",type:"daterange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:t.span}},[a("v-input",{attrs:{label:"状态：",labelWidth:70,pxUnit:!0}},[a("v-select",{staticClass:"w-fill",attrs:{list:t.options,size:t.formSize,props:t.selectProps,placeholder:"请选择"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"btn"},slot:"btn"},[a("el-button",{attrs:{size:t.btnSize},on:{click:t.handlerSearch}},[t._v("查询")])],1)])],1)},staticRenderFns:[]};var l=a("VU/8")(i,o,!1,function(t){a("/qex")},"data-v-d3ac85f6",null).exports,d=(a("pFYg"),a("68+Y")),c={list:"/user/list",queryOrganizationTree:"/organization/queryOrganizationTree",dataRoleList:"/dataRole/dataRoleList",queryById:"/user/queryById",insert:"/user/insert",update:"/user/update",getRoleGropLowerRoles:"/roleGroup/getRoleGropLowerRoles",delete:"/user/delete",initialPassWord:"/user/initialPassWord",updateStatus:"/user/updateStatus",checkUserName:"/user/checkName"};function u(t){var e=c.dataRoleList;return Object(d.a)(e,{params:t})}function p(t){var e=c.getRoleGropLowerRoles;return Object(d.a)(e,{params:t})}function h(t){var e=c.queryById;return Object(d.a)(e,{params:t})}function m(t){var e=c.updateStatus;return Object(d.a)(e,{data:t,method:"post"})}var v={props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{tableSize:n.a.tableSize,colWidth:n.a.colWidth,options:[{value:"0",label:"禁用"},{value:"1",label:"启用"}],userList:[{id:null,userName:"用户名",name:"姓名",phone:"手机号码",account:"账号",pertainOrg:"所属组织",pertainRoles:"所属角色",pertainDataRoles:"关联数据角色",status:0,createUser:"创建人",createDate:"创建时间"},{id:null,userName:"用户名",name:"姓名",phone:"手机号码",account:"账号",pertainOrg:"所属组织",pertainRoles:"所属角色",pertainDataRoles:"关联数据角色",status:1,createUser:"创建人",createDate:"创建时间"},{id:null,userName:"用户名",name:"姓名",phone:"手机号码",account:"账号",pertainOrg:"所属组织",pertainRoles:"所属角色",pertainDataRoles:"关联数据角色",status:0,createUser:"创建人",createDate:"创建时间"}]}},computed:{},watch:{},created:function(){this.oldStatus=""},methods:{handleInit:function(t){var e=this,a=t.id;this._$confirm({title:"初始化密码",content:"是否需要对该用户账户密码进行初始化密码"}).then(function(){var t,r;(t={id:a},r=c.initialPassWord,Object(d.a)(r,{params:t})).then(function(t){e.$toast(t.errorMsg),e._send()})}).catch(function(){return!1})},handleEdit:function(t){this.$emit("edit",t),this._send()},handleLook:function(t){this.$emit("viewDetail",t)},handleDel:function(t){var e=this,a=t.id;this._$confirm().then(function(){var t,r;(t={id:a},r=c.delete,Object(d.a)(r,{params:t})).then(function(t){e._send()})}).catch(function(){return!1})},handleCommand:function(t,e){var a=this,r=t.status,s=t.id,n=e.value;e.label;if(r===n)return!1;if("1"===n)m({status:n,id:s}).then(function(t){a._send(),a.$toast("此用户已启用",2e3)});else{this._$confirm({content:"禁用此对象后,无法引用该对象以及该对象下级所有对象,你确定要禁用此对象吗?",title:"状态"}).then(function(){m({status:n,id:s}).then(function(t){a._send()})}).catch(function(){return!1})}},_send:function(){this.$emit("update")}},filters:{formatStatus:function(t){return"0"===t?"禁用":"启用"},dateTimeDowith:function(t){return t.length>19?t.substr(0,19):t}},components:{}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{size:t.tableSize,data:t.tableData,"highlight-current-row":"",stripe:!0,height:"100%",width:"100%",border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:"userName",label:"用户名(登录账户)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"edit-btn-class",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleLook(e.row)}}},[t._v(t._s(e.row.userName)+"\n                ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:"phone",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:"pertainOrgs.name",label:"所属组织"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":t.colWidth,label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{staticClass:"pointer",attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link font-12"},[t._v("\n                        "+t._s(t._f("formatStatus")(e.row.status))+"\n                    "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.options,function(r,s){return a("el-dropdown-item",{key:r.value,nativeOn:{click:function(a){return t.handleCommand(e.row,r)}}},[t._v(t._s(r.label)+"\n                        ")])}),1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:"createUser",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:"createDate",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                     "+t._s(t._f("dateTimeDowith")(e.row.createDate))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"edit-btn-class",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑\n                ")]),t._v(" "),a("el-button",{staticClass:"edit-btn-class",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDel(e.row)}}},[t._v("删除\n                ")]),t._v(" "),a("el-button",{staticClass:"edit-btn-class",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleInit(e.row)}}},[t._v("初始化密码\n                ")])]}}])})],1)],1)},staticRenderFns:[]};var b=a("VU/8")(v,f,!1,function(t){a("Cqnl")},"data-v-3f2be576",null).exports,_=a("//Fk"),g=a.n(_),w=a("IVM2"),D={userName:[{required:!0,trigger:"blur",validator:function(t,e,a){try{if("string"!=typeof e)return a(new Error("请输入用户名"));if(!e.length)return a(new Error("请输入用户名"));var r=w.a.textAlphaNumber.test(e),s=e.length<4||e.length>20;if(!r)return a(new Error("您输入不正确(须英文、数字输入，2~20 位字符)"));if(s)return a(new Error("您输入不正确(须英文、数字输入，2~20 位字符)"));a()}catch(t){}}}],name:[{trigger:"blur",validator:function(t,e,a){try{if("string"!=typeof e)return a();if(0===e.length)return void a();var r=w.a.textAlphaChinese.test(e),s=e.length<2|e.length>20;if(!r)return a(new Error("您输入不正确（须中、英文，2~20位字符），重新输入"));if(s)return a(new Error("您输入不正确（须中、英文，2~20位字符），重新输入"));a()}catch(t){return void a()}}}],phone:[{message:"请输入手机号吗",trigger:"blur"},{pattern:w.a.mobile,message:"手机格式不正确",trigger:"blur"}],pertainOrgs:[{required:"true",message:"请选择所选组织"}],remark:[{validator:function(t,e,a){try{return"string"!=typeof e?a():e.length&&e.length>200?a(new Error("您输入不正确(限制 200 字符)")):a()}catch(t){return a()}},trigger:"blur"}]},x={data:function(){var t=this;return{radio:"1",btnSize:n.a.baseBtn,formSize:n.a.baseFormSize,addForm:{userName:"",userType:"",name:"",phone:"",initialPassword:"",pertainOrgs:"",pertainRoles:[],pertainDataRoles:[],code:"",remark:"",status:1},orgName:"",dataRoleResult:[],roleResult:[],roleList:[],dataRoleList:[],orgData:[],treeShow:!1,defaultProps:{children:"childOrg",label:"name"},rules:s()({},D,{userName:[{trigger:"blur",validator:function(e,a,r){if(t.isEdit)r();else{if("string"!=typeof a)return r(new Error("请输入用户名"));if(a.length){var s,n;if(!w.a.textAlphaNumber.test(a))return r(new Error("您输入不正确(须英文和数字输入，2~20 位字符)，请重新输入。"));if(a.length<2||a.length>20)return r(new Error("您输入不正确(须英文和数字输入，2~20 位字符)，请重新输入。"));-1===t.id&&(t.id=""),(s={username:a},n=c.checkUserName,Object(d.a)(n,{params:s})).then(function(t){if(t.data){if("请求成功"!==t.data.errorMsg)return void r(new Error(t.data.errorMsg))}else if("请求成功"!==t.errorMsg)return void r(new Error(t.errorMsg));r()}).catch(function(t){t.data?r(new Error(t.data.errorMsg)):r(new Error(t.errorMsg))})}else r(new Error("请输入用户名"))}},required:!0}]})}},props:{value:{type:Boolean,default:function(){return!1}},isEdit:{type:Boolean,default:function(){return!1}},id:{type:Number,default:function(){return""}}},created:function(){var t,e,a=this;this.status="",this.isEdit?(this.$load.show(),h({id:this.id}).then(function(t){var e=t.data,r=e.code,s=e.userName,n=e.userType,i=void 0===n?"":n,o=e.name,l=e.phone,d=e.initialPassword,c=e.pertainOrgs,h=e.pertainRoles,m=void 0===h?[]:h,v=e.pertainDataRoles,f=void 0===v?[]:v,b=e.status,_=e.remark;a.addForm={code:r,userName:s,userType:i,name:o,phone:l,initialPassword:d,pertainOrgs:c,pertainRoles:m,pertainDataRoles:f,status:b,remark:_},a.orgName=c.hasOwnProperty("name")&&c.name,g.a.all([p({id:a.addForm.pertainOrgs.roleGroupId}),u()]).then(function(t){a.roleList=t[0].data,a.dataRoleList=t[1].data,m.length>0&&m.forEach(function(t){a.roleResult.push(t.id)}),f.length>0&&f.forEach(function(t){a.dataRoleResult.push(t.id)}),a.$load.hide()})})):u().then(function(t){a.dataRoleList=t.data}),(e=c.queryOrganizationTree,Object(d.a)(e,{params:t})).then(function(t){a.orgData=t.data.childOrg})},methods:{handlerSubmit:function(){var t=this;this.$refs.addForm.validate(function(e){if(!e)return!1;var a,r;t.isEdit?(t.addForm.id=t.id,(a=t.addForm,r=c.update,Object(d.a)(r,{data:a,method:"post"})).then(function(e){t.$emit("input",!1),t.$emit("update")})):function(t){var e=c.insert;return Object(d.a)(e,{data:t,method:"post"})}(t.addForm).then(function(e){e.data?t.$toast(e.data.errorMsg):t.$toast(e.errorMsg),t.$emit("input",!1),t.$emit("update")})})},handlerCancel:function(){this.$emit("input",!1)},handleSelectOrg:function(){this.treeShow=!0},handleNodeClick:function(t){var e=this,a=t.id,r=t.name,s=t.code,n=t.roleGroupId;this.treeShow=!1,this.orgName=r,this.addForm.pertainOrgs={id:a,name:r,code:s,roleGroupId:n},p({id:n}).then(function(t){e.roleList=t.data,e.roleResult=[]})}},watch:{dataRoleResult:function(t){var e=this;t.length>0?(this.addForm.pertainDataRoles=[],t.forEach(function(t){var a=e.dataRoleList.findIndex(function(e){return e.id===t});if(-1!==a){var r=e.dataRoleList[a],s=r.id,n=r.code,i=r.name;e.addForm.pertainDataRoles.push({id:s,name:i,code:n})}})):this.addForm.pertainDataRoles=[]},roleResult:function(t){var e=this;t.length>0?(this.addForm.pertainRoles=[],t.forEach(function(t){var a=e.roleList.findIndex(function(e){return e.id===t});if(-1!==a){var r=e.roleList[a],s=r.id,n=r.code,i=r.name;e.addForm.pertainRoles.push({id:s,code:n,name:i})}})):this.addForm.pertainRoles=[]}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page p-t-40",on:{click:function(e){t.treeShow=!1}}},[a("el-col",{attrs:{span:10,offset:5}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.rules,"label-width":"120px",size:t.formSize}},[a("el-form-item",{attrs:{label:"用户名：",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名",disabled:t.isEdit},model:{value:t.addForm.userName,callback:function(e){t.$set(t.addForm,"userName",e)},expression:"addForm.userName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号码：",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号吗",maxlength:"11"},model:{value:t.addForm.phone,callback:function(e){t.$set(t.addForm,"phone",e)},expression:"addForm.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属组织：",prop:"pertainOrgs"}},[a("el-input",{attrs:{placeholder:"请选择所选组织"},model:{value:t.orgName,callback:function(e){t.orgName=e},expression:"orgName"}}),t._v(" "),a("div",{staticClass:"orgs-tree",on:{click:function(e){return e.stopPropagation(),t.handleSelectOrg(e)}}},[t.treeShow?a("v-input-box",{staticClass:"tree box-shadow"},[a("el-tree",{attrs:{data:t.orgData,"empty-text":"暂无数据...",props:t.defaultProps,accordion:"","highlight-current":"","expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1):t._e()],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属角色：",prop:"pertainRoles"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.roleList.length&&t.orgName.length,expression:"!roleList.length&&orgName.length"}],attrs:{disabled:"",placeholder:"暂无相关数据"}}),t._v(" "),a("v-input-box",{directives:[{name:"show",rawName:"v-show",value:t.roleList.length>0,expression:"roleList.length>0"}]},[a("el-checkbox-group",{model:{value:t.roleResult,callback:function(e){t.roleResult=e},expression:"roleResult"}},t._l(t.roleList,function(e){return a("el-checkbox",{key:e.id,staticClass:"checkbox",attrs:{label:e.id}},[a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.name.length>25,expression:"item.name.length>25"}],staticClass:"item",attrs:{effect:"dark",content:e.name,placement:"top-start"}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.name.length<=25,expression:"item.name.length<=25"}]},[t._v(t._s(e.name))])],1)}),1)],1),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:0==t.orgName.length,expression:"orgName.length==0"}],attrs:{disabled:"",placeholder:"选择组织后才可选择角色"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关联数据角色：",prop:"pertainDataRoles"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.dataRoleList.length,expression:"!dataRoleList.length"}],attrs:{disabled:"",placeholder:"暂无相关数据"}}),t._v(" "),a("v-input-box",{directives:[{name:"show",rawName:"v-show",value:t.dataRoleList.length>0,expression:"dataRoleList.length>0"}]},[a("el-checkbox-group",{model:{value:t.dataRoleResult,callback:function(e){t.dataRoleResult=e},expression:"dataRoleResult"}},t._l(t.dataRoleList,function(e){return a("el-checkbox",{key:e.code,staticClass:"checkbox text-ellipsis",attrs:{label:e.id}},[a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.name.length>25,expression:"item.name.length>25"}],staticClass:"item",attrs:{effect:"dark",content:e.name,placement:"top-start"}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.name.length<=25,expression:"item.name.length<=25"}]},[t._v(t._s(e.name))])],1)}),1)],1)],1),t._v(" "),t.isEdit?a("el-form-item",{attrs:{label:"状态：",prop:"status"}},[a("el-radio-group",{staticClass:"radio-group",model:{value:t.addForm.status,callback:function(e){t.$set(t.addForm,"status",e)},expression:"addForm.status"}},[a("el-radio",{staticClass:"radio",attrs:{label:"1"}},[t._v("启用")]),t._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"0"}},[t._v("禁用")])],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:"200"},model:{value:t.addForm.remark,callback:function(e){t.$set(t.addForm,"remark",e)},expression:"addForm.remark"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:t.btnSize},on:{click:t.handlerCancel}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:t.btnSize,type:"primary"},on:{click:t.handlerSubmit}},[t._v("确 定")])],1)],1)],1)],1)])},staticRenderFns:[]};var k=a("VU/8")(x,R,!1,function(t){a("Yy+f")},"data-v-096b17ca",null).exports,S={data:function(){return{radio:"1",span:8,bSing:!1,btnSize:n.a.baseBtn,detailData:{userName:"",name:"",phone:"",pertainOrgs:{name:""},pertainRoles:[],pertainRolesText:"",pertainDataRoles:[],pertainDataRolesText:"",createUser:"",status:"",statusText:"",createDate:"",remark:""},roleTree:[],defaultProps:{children:"children",label:"name"}}},props:{value:{type:Boolean,default:function(){return!1}},id:{type:Number,default:function(){return""}}},created:function(){var t=this;h({id:this.id}).then(function(e){e.data.createDate=t.dateTimeDowith(e.data.createDate)||"",e.data.pertainOrgs=e.data.pertainOrgs||{},e.data.pertainOrgs.name=e.data.pertainOrgs.name||"",t.detailData=e.data,t.detailData.pertainRolesText=t.formateArr(t.detailData.pertainRoles),t.detailData.pertainDataRolesText=t.formateArr(t.detailData.pertainDataRoles),t.detailData.statusText=t.formatStatus(t.detailData.status),t.detailData.createDate=t.dateTimeDowith(t.detailData.createDate),t.roleTree=t.detailData.menuResponses,t.bSing=!0})},methods:{handleBack:function(){this.$emit("input",!1)},formateArr:function(t){var e=[];return t.forEach(function(t){e.push(t.name)}),e.join("/")},formatStatus:function(t){return"0"===t?"禁用":"启用"},dateTimeDowith:function(t){return t.length>19?t.substr(0,19):t}},filters:{}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page"},[t.bSing?a("el-col",{attrs:{span:12,offset:6}},[a("v-item-detail",{staticClass:"m-t-34",attrs:{tooltip:!0,label:"用户名：",span:t.span}},[a("span",{staticClass:"block text-ellipsis"},[t._v(t._s(t.detailData.userName))]),t._v(" "),a("div",{staticClass:"tooltip-item",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.userName))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"姓名：",span:t.span}},[a("span",{staticClass:"block text-ellipsis"},[t._v(t._s(t.detailData.name))]),t._v(" "),a("div",{staticClass:"tooltip-item",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.name))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"手机号码：",span:t.span}},[a("span",{staticClass:"block text-ellipsis"},[t._v(t._s(t.detailData.phone))]),t._v(" "),a("div",{staticClass:"tooltip-item",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.phone))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"所属组织：",span:t.span}},[a("span",{staticClass:"block text-ellipsis"},[t._v(t._s(t.detailData.pertainOrgs.name))]),t._v(" "),a("div",{staticClass:"tooltip-item",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.pertainOrgs.name))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"所属角色：",span:t.span}},[a("span",{staticClass:"block text-ellipsis showAllText"},[t._v(t._s(t.detailData.pertainRolesText))]),t._v(" "),a("div",{staticClass:"tooltip-item showAllText",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.pertainRolesText))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"关联数据角色：",span:t.span}},[a("span",{staticClass:"block text-ellipsis showAllText"},[t._v(t._s(t.detailData.pertainDataRolesText))]),t._v(" "),a("div",{staticClass:"tooltip-item showAllText",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.pertainDataRolesText))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"创建人：",span:t.span}},[a("span",{staticClass:"block text-ellipsis"},[t._v(t._s(t.detailData.createUser))]),t._v(" "),a("div",{staticClass:"tooltip-item",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.createUser))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"创建时间：",span:t.span}},[a("span",{staticClass:"block text-ellipsis"},[t._v(t._s(t.detailData.createDate))]),t._v(" "),a("div",{staticClass:"tooltip-item",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.createDate))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"状态：",span:t.span}},[a("span",{staticClass:"block text-ellipsis"},[t._v(t._s(t.detailData.statusText))]),t._v(" "),a("div",{staticClass:"tooltip-item",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.statusText))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!0,label:"备注：",span:t.span}},[a("span",{staticClass:"block showAllText"},[t._v(t._s(t.detailData.remark))]),t._v(" "),a("div",{staticClass:"tooltip-item showAllText",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.detailData.remark))])]),t._v(" "),a("v-item-detail",{attrs:{tooltip:!1,label:"权限：",span:t.span}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.roleTree.length,expression:"!roleTree.length"}],staticClass:"block text-ellipsis"},[t._v("暂无数据")]),t._v(" "),a("el-tree",{directives:[{name:"show",rawName:"v-show",value:t.roleTree.length,expression:"roleTree.length"}],staticClass:"treeGroup",attrs:{"empty-text":"暂无数据","default-expand-all":!0,data:t.roleTree,props:t.defaultProps,"node-key":"id",accordion:""}})],1),t._v(" "),a("div",{staticClass:"text-center m-t-32"},[a("el-button",{attrs:{size:t.btnSize},on:{click:t.handleBack}},[t._v("返回")])],1)],1):t._e()],1)])},staticRenderFns:[]};var y={props:{},data:function(){return{btnSize:n.a.homeBtn,tableData:[],total:0,addShow:!1,isEdit:!1,detailShow:!1,userId:"",listParams:{userName:"",userType:"",status:"",beginDate:"",endDate:"",offset:1,limit:n.a.limit},limitUser:[]}},computed:{},watch:{},created:function(){this._getData(!0)},methods:{_getData:function(){var t,e,a=this;(t=this.listParams,e=c.list,Object(d.a)(e,{data:t,method:"post"})).then(function(t){var e=t.data.list;a.tableData=e.map(function(t,e){return t.pertainRolesText=[],t.pertainDataRolesText=[],t.pertainRoles.forEach(function(e){t.pertainRolesText.push(e.name)}),t.pertainDataRoles.forEach(function(e){t.pertainDataRolesText.push(e.name)}),t.pertainRolesText=t.pertainRolesText.join("/"),t.pertainDataRolesText=t.pertainDataRolesText.join("/"),t}),a.total=t.data.total})},handlerAdd:function(){this.addShow=!0,this.isEdit=!1},handlerSearch:function(t){this.listParams=s()({},this.listParams,t),this.listParams.offset=1,this._getData(),this.$refs.Fpage._init()},handlePagingChange:function(t){this.listParams=s()({},this.listParams,t),this._getData()},edit:function(t){var e=t.id;this.userId=e,this.isEdit=!0,this.addShow=!0},viewDetail:function(t){var e=t.id;this.userId=e,this.detailShow=!0}},components:{UserSearch:l,UserTable:b,Add:k,Detail:a("VU/8")(S,C,!1,function(t){a("peDj")},"data-v-3b59631b",null).exports}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.addShow||t.detailShow?t._e():a("UserSearch",{on:{search:t.handlerSearch}}),t._v(" "),t.addShow||t.detailShow?t._e():a("div",{staticClass:"function-wrap"},[a("el-button",{attrs:{size:t.btnSize},on:{click:t.handlerAdd}},[t._v("新增")])],1),t._v(" "),t.addShow||t.detailShow?t._e():a("user-table",{staticClass:"user-table",attrs:{tableData:t.tableData,total:t.total},on:{update:function(e){return t._getData(!0)},viewDetail:t.viewDetail,edit:t.edit}}),t._v(" "),t.addShow||t.detailShow?t._e():a("v-paging",{ref:"Fpage",attrs:{total:t.total},on:{pagingChange:t.handlePagingChange}}),t._v(" "),t.addShow?a("add",{attrs:{isEdit:t.isEdit,id:t.userId},on:{update:function(e){return t._getData(!0)}},model:{value:t.addShow,callback:function(e){t.addShow=e},expression:"addShow"}}):t._e(),t._v(" "),t.detailShow?a("detail",{attrs:{detailData:t.detailData,id:t.userId},model:{value:t.detailShow,callback:function(e){t.detailShow=e},expression:"detailShow"}}):t._e()],1)},staticRenderFns:[]};var T=a("VU/8")(y,N,!1,function(t){a("wOfH")},"data-v-87a4bd6a",null);e.default=T.exports},"Yy+f":function(t,e){},peDj:function(t,e){},wOfH:function(t,e){}});