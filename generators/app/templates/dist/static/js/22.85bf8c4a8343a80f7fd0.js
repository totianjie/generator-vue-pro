webpackJsonp([22],{"06TJ":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),l=s("QmSG"),n=s("SJI6"),o=Object(n.createNamespacedHelpers)("watchManage"),r=o.mapGetters,u=o.mapMutations,c=o.mapActions,h={props:{headTitle:{type:String,default:function(){return""}},selectMenuP:{type:String,default:function(){return""}}},data:function(){return{headTitle2:"当前任务名称为: ",lableWidth:70,lableWidth2:110,selectProps:{name:"name",value:"name"},span:11,selectMenu:"",formSize:l.a.homeFormSize,btnSize:l.a.homeBtn}},computed:i()({},r(["taskName","taskType","excStatus","statusEnum","taskCode","isShowAll"])),watch:{},create:function(){},methods:i()({selectStatus:function(t){this.selectMenu=t},handlerSearch:function(){var t=this;if(void 0===this.selectMenu)return this.setExcStatus(""),this.resetOffset(),this.requestData(),void this.$emit("resetPage");if(!this.selectMenu.length)return this.setExcStatus(""),this.resetOffset(),this.requestData(),void this.$emit("resetPage");var e=(this.statusEnum.filter(function(e){return e.name===t.selectMenu})||[])[0]||{};this.setExcStatus(e.excStatus),this.resetOffset(),this.requestData(),this.$emit("resetPage")},back:function(){this.$emit("back")},changeAll:function(){this.setIsShowAll(!this.isShowAll),this.setTaskName(""),this.requestData()}},u({setTaskName:"setTaskName",setTaskType:"setTaskType",setExcStatus:"setExcStatus",setParameters:"setParameters",setTaskCode:"setTaskCode",setIsShowAll:"setIsShowAll",setList:"setList",setStatusEnum:"setStatusEnum"}),c(["requestData","resetOffset"])),components:{}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"over-hidden"},[s("div",{staticClass:"v-search-box"},[s("div",{staticClass:"w-c-246",class:t.taskName.length>0?"input-wrap":"input-wrap2"},[s("el-col",{staticClass:"m-l-8",attrs:{span:11}},[s("v-input",{attrs:{label:t.headTitle,span:6,pxUnit:!0,labelWidth:t.lableWidth}},[s("v-select",{attrs:{list:t.statusEnum,size:t.formSize,props:t.selectProps,placeholder:"请选择"},model:{value:t.selectMenu,callback:function(e){t.selectMenu=e},expression:"selectMenu"}})],1)],1),t._v(" "),s("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isShowAll,expression:"!isShowAll"}],staticClass:"m-l-8",attrs:{span:11}},[s("div",{staticClass:"v-item-detail clearfix"},[s("div",{staticClass:"v-input clearfix pull-left",staticStyle:{width:"110px","line-height":"32px"}},[t._v(t._s(t.headTitle2))]),t._v(" "),s("div",{staticClass:"pull-left text",staticStyle:{width:"calc(100% - 110px)","line-height":"32px",height:"32px"}},[s("div",[s("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:(t.taskName+", 提示:当前为单任务监控!").length>7,expression:"`${taskName}, 提示:当前为单任务监控!`.length>7"}],attrs:{content:t.taskName+", 提示:当前为单任务监控!",placement:"bottom"}},[s("span",[t._v(t._s(t.taskName+", 提示:当前为单任务监控!"))])])],1)])])])],1),t._v(" "),s("div",{staticClass:"btn-wrap",class:t.taskName.length>0?"btn-wrap":"btn-wrap2"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isShowAll,expression:"!isShowAll"}],attrs:{type:"primary",size:t.btnSize},on:{click:t.changeAll}},[t._v("切换全部监控")]),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isShowAll&&t.taskName.length>0&&!1,expression:"isShowAll && taskName.length>0 && false"}],attrs:{type:"primary",size:t.btnSize},on:{click:t.changeAll}},[t._v("切换单个监控")]),t._v(" "),s("el-button",{attrs:{type:"primary",size:t.btnSize},on:{click:t.handlerSearch}},[t._v("查询")])],1)])])},staticRenderFns:[]};var d=s("VU/8")(h,m,!1,function(t){s("Tt74")},"data-v-252efb97",null);e.default=d.exports},"1MEE":function(t,e){},"2xYI":function(t,e){},Tt74:function(t,e){},azhA:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),l=s("QmSG"),n=s("SJI6"),o=Object(n.createNamespacedHelpers)("watchManage"),r=o.mapGetters,u=o.mapActions,c=o.mapState,h=o.mapMutations,m={data:function(){return{timer:Object,test:"",headTitle:"执行状态:",btnSize:l.a.baseBtn}},props:{},route:{canActivate:function(t){},activate:function(t){t.next()},data:function(t){},canDeactivate:function(t){},deactivate:function(t){}},created:function(){this.$route.query._init;this.reset();var t=this.$route.query;t.taskCode&&(this.setTaskCode(t.taskCode),this.setTaskName(t.taskName),this.setTaskType(t.type),this.setExcStatus("")),t.taskCode?this.setIsShowAll(!1):0===this.taskName.length&&this.setIsShowAll(!0),this.requestData()},mounted:function(){var t=this;try{if(""!==this.excStatus){var e=(this.statusEnum.filter(function(e){return e.excStatus+""==t.excStatus+""})||[])[0]||{};e.name&&this.$refs.headRef.selectStatus(e.name)}}catch(t){}this.reRunTimer()},computed:i()({},r(["taskName","taskType","excStatus","parameters","list","statusEnum","taskCode","isShowAll","total"]),c(["route"])),destroyed:function(){clearInterval(this.timer)},methods:i()({reRunTimer:function(){var t=this;if(this.timer)try{clearInterval(this.timer)}catch(t){}try{this.timer=setInterval(function(){try{t.requestData()}catch(e){clearInterval(t.timer)}},15e3)}catch(t){}},resetPage:function(){this.$refs.Fpage._init(),this.reRunTimer()},handlePagingChange:function(t){this.setParameters(t),this.requestData()}},h({setTaskName:"setTaskName",setTaskType:"setTaskType",setExcStatus:"setExcStatus",setParameters:"setParameters",setTaskCode:"setTaskCode",setIsShowAll:"setIsShowAll",setList:"setList",setTotal:"setTotal",setStatusEnum:"setStatusEnum"}),u(["reset","requestData"])),filters:{},watch:{$route:function(t,e){try{this.$route.path,this.$route.query}catch(t){}}},components:{HeadView:function(){return new Promise(function(t){t()}).then(s.bind(null,"06TJ"))},ModuleTable:function(){return new Promise(function(t){t()}).then(s.bind(null,"qE84"))}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("head-view",{ref:"headRef",attrs:{headTitle:t.headTitle},on:{resetPage:t.resetPage}}),t._v(" "),s("module-table",{staticClass:"task-list-status-table"}),t._v(" "),t.addShow||t.isDetailShow?t._e():s("v-paging",{ref:"Fpage",attrs:{total:t.total,currentPage:t.parameters.offset,pageSize:t.parameters.limit},on:{pagingChange:t.handlePagingChange}})],1)},staticRenderFns:[]};var p=s("VU/8")(m,d,!1,function(t){s("2xYI")},"data-v-159cbf9c",null);e.default=p.exports},qE84:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),l=s("QmSG"),n=["taskName","hostName","excStartTime","excEndTime","excStatus","excTime","excNum","excEfficient","surplusTime","surplusNum","totalNum"],o=s("SJI6"),r=Object(o.createNamespacedHelpers)("watchManage"),u=r.mapGetters,c=r.mapMutations,h={data:function(){return{tableSize:l.a.tableSize,columnTableList:[],colWidth:l.a.colWidth}},created:function(){this.columnTableList=n},computed:i()({},u(["taskName","taskType","excStatus","parameters","list","statusEnum","taskCode","isShowAll","total"])),props:{options:{type:Array,default:function(){return[]}}},methods:i()({edit:function(t){this.$emit("edit",t)},del:function(t){this.$emit("del",t)},detail:function(t){this.$emit("detail",t)},handlerChange:function(t,e){},formatStatus:function(t){try{return null===t?"":this.statusEnum.filter(function(e){return e.excStatus+""==t+""})[0].name||""}catch(t){return""}}},c({setTaskName:"setTaskName",setTaskType:"setTaskType",setExcStatus:"setExcStatus",setParameters:"setParameters",setTaskCode:"setTaskCode",setIsShowAll:"setIsShowAll",setList:"setList",setTotal:"setTotal",setStatusEnum:"setStatusEnum"})),filters:{dateTimeDowith:function(t){if(null===t||void 0===t)return"";if("number"==typeof t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var i=e.getDate();i=i<10?"0"+i:i;var l=e.getHours();l=l<10?"0"+l:l;var n=e.getMinutes(),o=e.getSeconds();return s+"-"+a+"-"+i+" "+l+":"+(n=n<10?"0"+n:n)+":"+(o=o<10?"0"+o:o)}return t.length>19?t.substr(0,19):t}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-table",{attrs:{size:t.tableSize,data:t.list,"highlight-current-row":!0,stripe:!0,border:!0,height:"100%",width:"100%"},on:{"row-click":t.handleRowClick}},[s("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[0],label:"任务名称"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[1],label:"主机名称"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[2],label:"执行开始时间",width:"135"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("dateTimeDowith")(e.row[t.columnTableList[2]]))+"\n            ")]}}])}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[3],label:"执行结束时间",width:"135"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("dateTimeDowith")(e.row[t.columnTableList[3]]))+"\n            ")]}}])}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[4],label:"执行状态",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.formatStatus(e.row[t.columnTableList[4]]))+"\n            ")]}}])}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[5],label:"已执行时间(分钟)",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[6],label:"已执行条数",width:"85"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[7],label:"执行效率（条/每分钟）",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[8],label:"预计剩余时间(分钟)",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[9],label:"未执行条数",width:"85"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":t.colWidth,"show-overflow-tooltip":"",prop:t.columnTableList[10],label:"总条数",width:"85"}})],1)],1)},staticRenderFns:[]};var d=s("VU/8")(h,m,!1,function(t){s("1MEE")},"data-v-61f9725a",null);e.default=d.exports}});